define(['jquery','underscore','wysiwygAdapter','module','mage/translate','prototype','mage/adminhtml/events','mage/adminhtml/browser'],function(jQuery,_,wysiwygAdapter,module){var baseConfig=module.config().config||{},wysiwygSetup=Class.create({wysiwygInstance:null});wysiwygSetup.prototype={initialize:function(htmlId,config){var WysiwygInstancePrototype=new wysiwygAdapter.getAdapterPrototype();_.bindAll(this,'openFileBrowser');config=_.extend({},baseConfig,config||{});this.wysiwygInstance=new WysiwygInstancePrototype(htmlId,config);this.wysiwygInstance.eventBus=this.eventBus=new window.varienEvents();},setup:function(mode){this.wysiwygInstance.setup(mode);},openFileBrowser:function(o){this.wysiwygInstance.openFileBrowser(o);},toggle:function(){return this.wysiwygInstance.toggle();},onFormValidation:function(){this.wysiwygInstance.onFormValidation();},updateContent:function(content){return this.wysiwygInstance.encodeContent(content);}};window.wysiwygSetup=wysiwygSetup;return wysiwygSetup;});